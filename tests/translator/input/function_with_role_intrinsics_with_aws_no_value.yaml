Parameters:
  roleArn:
    Type: String
    Description: The ARN of an IAM role to use as this function's execution role.
      If a role isn't specified, one is created for you with a logical ID of <function-logical-id>Role.
    Default: ''

Conditions:
  RoleExists: !Not [!Equals ['', !Ref roleArn]]

Resources:
  MinimalFunction:
    Type: AWS::Serverless::Function
    Properties:
      FunctionName:
      CodeUri: s3://sam-demo-bucket/hello.zip
      Handler: hello.handler
      Runtime: python2.7
      Role: !If
      - RoleExists
      - !Ref roleArn
      - !Ref "AWS::NoValue"
