AWSTemplateFormatVersion: '2010-09-09'
Transform: AWS::Serverless-2016-10-31
Description: Function with capacity provider and AutoPublishAlias test

Resources:
  LMIFunctionWithAutoPublish:
    Type: AWS::Serverless::Function
    Properties:
      CodeUri: s3://sam-demo-bucket/hello.zip
      Handler: hello.handler
      Runtime: python3.12
      Description: Lambda function with capacity provider and auto publish alias
      MemorySize: 512
      Timeout: 30
      AutoPublishAlias: Production
      CapacityProviderConfig:
        Arn: arn:aws:lambda:us-east-1:123456789012:capacity-provider:test-capacity-provider
        PerExecutionEnvironmentMaxConcurrency: 50
      FunctionScalingConfig:
        MinExecutionEnvironments: 2
        MaxExecutionEnvironments: 20
      DeploymentPreference:
        Type: Linear10PercentEvery1Minute
